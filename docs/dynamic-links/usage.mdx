---
title: Dynamic Links
sidebar_label: Usage
---

To start using the Dynamic Links package within your project, import it at the top of your project files:

```dart
import 'package:firebase_dynamic_links/firebase_dynamic_links.dart';
```

Before using Dynamic Links, you must first have ensured you have [initialized FlutterFire](../overview.mdx#initializing-flutterfire).

To create a new Dynamic Links instance, call the [`instance`](!firebase_dynamic_links.FirebaseDynamicLinks.instance) getter on [`FirebaseDynamicLinks`](!firebase_dynamic_links.FirebaseDynamicLinks):

```dart
FirebaseDynamicLinks dynamicLinks = FirebaseDynamicLinks.instance;
```

By default, this allows you to interact with Dynamic Links using the default Firebase App used whilst installing FlutterFire on your
platform.


On `Android`, if you'd like to use Dynamic Links with a secondary Firebase App, use the [`instanceFor`](!firebase_dynamic_links.FirebaseDynamicLinks.instanceFor) method:

```dart
// Android only
FirebaseApp secondaryApp = Firebase.app('SecondaryApp');
FirebaseDynamicLinks dynamicLinks = FirebaseDynamicLinks.instanceFor(app: secondaryApp);
```

## Create a Dynamic Link

### Build Dynamic Link

To build a Dynamic Link, use the [`FirebaseDynamicLinks.buildLink`](!firebase_dynamic_links.buildLink) API in your application code like so:

```dart highlight={18}
final DynamicLinkParameters parameters = DynamicLinkParameters(
  // The Dynamic Link URI domain. You can view created URIs on your Firebase console
  uriPrefix: 'https://example.page.link',
  // The deep Link passed to your application which you can use to affect change
  link: Uri.parse('https://www.example.com/view-to-open'),
  // Android application details needed for opening correct app on device/Play Store
  androidParameters: const AndroidParameters(
    packageName: androidPackageName,
    minimumVersion: 1,
  ),
  // iOS application details needed for opening correct app on device/App Store
  iosParameters: const IOSParameters(
    bundleId: iosBundleId,
    minimumVersion: '2',
  ),
);

final Uri uri = await dynamicLinks.buildLink(parameters);
```

### Build Short Dynamic Link

You can also build a short Dynamic Link which simply makes the Dynamic Link URL shorter. This does entail an additional native SDK
request to the Firebase server whilst the above `buildLink()` does not.  To build a short Dynamic Link, use the
[`FirebaseDynamicLinks.buildShortLink`](!firebase_dynamic_links.buildShortLink) API in your application code like so:

```dart highlight={18}
final DynamicLinkParameters parameters = DynamicLinkParameters(
  // The Dynamic Link URI domain. You can view created URIs on your Firebase console
  uriPrefix: 'https://example.page.link',
  // The deep Link passed to your application which you can use to affect change
  link: Uri.parse('https://www.example.com/view-to-open'),
  // Android application details needed for opening correct app on device/Play Store
  androidParameters: const AndroidParameters(
    packageName: androidPackageName,
    minimumVersion: 1,
  ),
  // iOS application details needed for opening correct app on device/App Store
  iosParameters: const IOSParameters(
    bundleId: iosBundleId,
    minimumVersion: '2',
  ),
);

final Uri uri = await FirebaseDynamicLinks.instance.buildShortLink(parameters);
```

## Get Dynamic Link

If the application is in a background state/quit, use the [`FirebaseDynamicLinks.getInitialLink`](!firebase_dynamic_links.getInitialLink)
to retrieve the Dynamic Link that opened the application or brought it to the foreground from a background state.

```dart highlight={2}
final PendingDynamicLinkData? data =
                              await FirebaseDynamicLinks.instance.getInitialLink();
final Uri? deepLink = data?.link;

if (deepLink != null) {
  // Example of using the dynamic link to push the user to a different view
  Navigator.pushNamed(context, deepLink.path);
}
```

Alternatively, if you wish to select an exact Dynamic Link from your application, you may also pass the Dynamic Link URL to [`FirebaseDynamicLinks.getDynamicLink`](!firebase_dynamic_links.getDynamicLink)
like so:

```dart highlight={3}
String Link = 'https://dynamic-link-domain/ke2Qa';
final PendingDynamicLinkData? data =
                              await FirebaseDynamicLinks.instance.getDynamicLink(Uri.parse(Link));
final Uri? deepLink = data?.link;

if (deepLink != null) {
  // Example of using the dynamic link to push the user to a different view
  Navigator.pushNamed(context, deepLink.path);
}
```


## Listening for Dynamic Links

Whilst the application is open, you may listen to Dynamic Links using this stream handler [`FirebaseDynamicLinks.onLink`](!firebase_dynamic_links.onLink)
like so:

```dart highlight={1}
FirebaseDynamicLinks.instance.onLink.listen((dynamicLinkData) {
  if (dynamicLinkData != null && dynamicLinkData.link != null) {
    Navigator.pushNamed(context, dynamicLinkData.link.path);
  }
}).onError((error) {
  // Handle errors
});
```




