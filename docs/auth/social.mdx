---
title: Social Authentication
sidebar_label: Social Auth
---

> This documentation is a work in progress.

## Social Providers

### Apple

Apple has [announced](https://developer.apple.com/news/?id=09122019b) that any applications using 3rd party login
services (such as Facebook, Twitter, Google etc) must have an Apple Sign-In method.  Apple Sign-In is not required for Android devices.secret

To integrate Apple Sign-In on your iOS application, you will need to install a 3rd party library to authenticate with Apple.
Once authentication is successful, a Firebase credential can then be used to sign the user into Firebase with their Apple account

> To Do

```dart title="NEEDS UPDATING/VALIDATING"
// Apple credentials
final FirebaseUser user = (await FirebaseAuth.instance.signInWithCredential(credential)).user;
```

### Facebook

Before getting started, ensure you have installed the library, [configured your Android & iOS applications](https://developers.facebook.com/docs/android/getting-started/)
and setup your [Facebook Developer App](https://developers.facebook.com/apps/) and follow the setup process to enable Facebook Login.

Ensure the "Facebook" sign-in provider is enabled on the [Firebase Console](https://console.firebase.google.com/project/_/authentication/providers).
with the Facebook App ID and Secret set.

For the example, we are using the [`flutter_facebook_auth`](https://pub.dev/packages/flutter_facebook_auth) plugin.

#### Installation

1. Add dependency

```yaml {2} title="pubspec.yaml"
dependencies:
  flutter_facebook_auth: ^0.2.3
```

2. Download dependency

```
$ flutter pub get
```

#### Usage

Once the plugin is installed, we can begin the Facebook authentication flow by calling the `login` method on the FacebookAuth
class.
When the login flow is completed, we generate a `FacebookAuthCredential` from the accessToken and pass this to the FirebaseAuth
method `signInWithCredential`

```dart
import 'package:flutter_facebook_auth/flutter_facebook_auth.dart';

Future<void> signInWithFacebook() async {
  try {
      final LoginResult result = await FacebookAuth.instance.login();

      final FacebookAuthCredential facebookAuthCredential =
            FacebookAuthProvider.credential(result.accessToken.token);

      await FirebaseAuth.instance.signInWithCredential(facebookAuthCredential);
  } catch (e) {
      // Handle Error
  }
}
```

When the user has successfully signed in, any [`authStateChanges`](usage#authentication-state) listeners will trigger with the new authentication state
of the user

### Twitter

Ensure the "Twitter" sign-in provider is enabled on the [Firebase Console](https://console.firebase.google.com/project/_/authentication/providers)
with API Key and API Secret set.


#### Installation

1. Add dependency

```yaml {2} title="pubspec.yaml"
dependencies:
  flutter_twitter: ^1.1.3
```

2. Download dependency

```
$ flutter pub get
```

#### Usage

Once the plugin is installed, we first need to initialize the Twitter plugin using the consumer key and secret.

We can then trigger the Twitter login flow by calling the `authorize` method, and then generate an `AuthCredential` from
the `TwitterAuthProvider`, passing in the accessToken and secrete from the session.

We can then pass this `AuthCredential` to the `signInWithCredential` method to sign the user into Firebase


```dart title="NEEDS UPDATING/VALIDATING"
import 'package:flutter_twitter/flutter_twitter.dart';

Future<void> signInWithTwitter() async {
  try {
      final TwitterLogin twitterLogin = new TwitterLogin(
          consumerKey: 'abc',
          consumerSecret: '123'
      );

      final TwitterLoginResult loginResult = await twitterLogin.authorize();
      final TwitterSession twitterSession = loginResult.session;

      final AuthCredential authCredential = TwitterAuthProvider.credential(accessToken: twitterSession.token, secret: twitterSession.secret);

      await FirebaseAuth.instance.signInWithCredential(authCredential);
  } catch (e) {
      // Handle Error
  }
}
```

When the user has successfully signed in, any [`authStateChanges`](usage#authentication-state) listeners will trigger with the new authentication state
of the user

### Google

Most configuration is already setup when using Google Sign-In with Firebase, however you need to ensure your machines
SHA1 key has been configured for use with Android. You can see view how to generate the key on the
[Getting Started](overview) documentation.

Ensure the "Google" sign-in provider is enabled on the [Firebase Console](https://console.firebase.google.com/project/_/authentication/providers).

> If your user signs in with Google, after having already manually registered an account, their authentication provider will automatically
change to Google, due to Firebase Authentications concept of trusted providers.  You can find out more about
this [here](https://groups.google.com/g/firebase-talk/c/ms_NVQem_Cw/m/8g7BFk1IAAAJ)

#### Installation

1. Add dependency

```yaml {2} title="pubspec.yaml"
dependencies:
  google_sign_in: ^4.5.1
```

2. Download dependency

```
$ flutter pub get
```

#### Usage

Once your Firebase instance has been initialized, you can call the Google Sign In method, which will prompt the user to
sign into their Google account.  Once this has been done, their `AuthCredential` will be passed to the the `FirebaseAuth`
`signInWithCredential` method:

```dart
import 'package:google_sign_in/google_sign_in.dart';

Future<void> signInWithGoogle() async {
  try {
    final GoogleSignInAccount googleUser = await GoogleSignIn().signIn();
    final GoogleSignInAuthentication googleAuth = await googleUser.authentication;

    final AuthCredential credential = GoogleAuthProvider.credential(
       accessToken: googleAuth.accessToken,
       idToken: googleAuth.idToken,
    );

    await FirebaseAuth.instance.signInWithCredential(credential);

  } catch (e) {
      // Handle Error
  }
}
```

When the user has successfully signed in, any [`authStateChanges`](usage#authentication-state) listeners will trigger with the new authentication state
of the user


### GitHub

Ensure the "GitHub" sign-in provider is enabled on the [Firebase Console](https://console.firebase.google.com/project/_/authentication/providers)
with the Client ID and secret set.

#### Installation

1. Add dependency

```yaml {2} title="pubspec.yaml"
dependencies:
  github_sign_in: ^0.0.1
```

2. Download dependency

```
$ flutter pub get
```

#### Usage

```dart title="NEEDS UPDATING/VALIDATING"
import 'package:github_sign_in/github_sign_in.dart';

Future<void> signInWithGitHub() async {
  try {
    final GitHubSignIn gitHubSignIn = GitHubSignIn(
            clientId: clientId,
            clientSecret: clientSecret,
            redirectUrl: redirectUrl);

    var result = await gitHubSignIn.signIn(context);
    final AuthCredential authCredential = GithubAuthProvider.credential(result.token);

    await FirebaseAuth.instance.signInWithCredential(authCredential);

  } catch (e) {
      // Handle Error
  }
}
```

When the user has successfully signed in, any [`authStateChanges`](usage#authentication-state) listeners will trigger with the new authentication state
of the user

## Web

> TODO
